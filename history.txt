Υπόμνημα
--------
+ Προσθήκη νέου χαρακτηριστικού
- Αφαίρεση χαρακτηριστικού
~ Διόρθωση Bug
* Αλλαγή στον κώδικα
# Αλλαγή στον κώδικα που επιφέρει ασυμβατότητες με προηγούμενες εκδόσεις
% Αλλαγή στα Templates



Έκδοση 1.1.0 beta
-----------------
+ Η σελίδα για το πρόγραμμα τρέχει στη διεύθυνση http://tassadar.physics.auth.gr/~chameleon/programs/cost/. Δεν είναι βέβαια ακόμα πλήρης.
+ Η ’δεια Χρήσης του προγράμματος άλλαξε από "σχεδόν" GNU GPL, σε GNU GPL.
+ Το πρόγραμμα τρέχει μόνο σε μια διεργασία. Αν προσπαθήσουν να δημιουργηθούν άλλες, τότε στέλνουν στην πρώτη διεργασία πιθανές παραμέτρους από τη γραμμή εντολής ώστε η πρώτη διεργασία να ανοίξει τα αρχεία τους και μετά τερματίζουν. Αυτή η μετάδοση γίνεται ανοίγοντας κάποια sockets μεταξύ των διεργασιών. Αν έχετε ενεργοποιημένο firewall στον υπολογιστή, το άνοιγμα ενός socket θα εμφανίσει μια προειδοποίηση. Επιτρέψτε την για πάντα. Το socket χρησιμοποιεί το port της σειράς παιχνιδιών Doom (το port 666). Πιθανόν αν τρέχετε το πρόγραμμα να μην παίζει κανένα παιχνίδι της σειράς Doom multiplayer.
+ Το πρόγραμμα όταν τερματίζει, αποθηκεύει στο "main.ini" όλες τις ανοικτές δαπάνες και τερματίζει χωρίς προειδοποίηση. Όταν το ξαναανοίξετε θα ανοίξει αυτόματα από μόνο του όλες τις δαπάνες που είχε όταν έκλεισε συν επιπλέον αυτές που πιθανόν δώθηκαν από τη γραμμή εντολής ως παράμετροι.
+ Πατώντας INSERT εμφανίζεται μια κενή εγγραφή πάνω από την τρέχουσα, στους πίνακες που μεγαλώνουν (π.χ. του προσωπικού).
+ Πατώντας DELETE στους πίνακες που μεγαλώνουν (π.χ. του προσωπικού) και έχοντας επιλεγμένες κάποιες εγγραφές, αυτές διαγράφονται αφού ζητήσει το πρόγραμμα επιβεβαίωση.
+ Αφαιρέθηκε η δυνατότητα αλλαγής skin από τη γραμμή εντολής, αλλά αυτή η δυνατότητα προστέθηκε σε menu του προγράμματος. Το skin που ορίζετε, αποθηκεύεται στο αρχείο "main.ini" και φορτώνει αυτόματα κάθε φορά που ανοίγετε το πρόγραμμα.
+ Αναπρογραμματίστηκε το script men.php για να εισάγει το προσωπικό μονάδος από αρχεία CSV (παραγόμενα από το Excel ή το OpenOffice) στο αρχείο ρυθμίσεων του προγράμματος «main.ini».
* Η καρτέλα "Αμετάβλητα Στοιχεία" όταν υπάρχουν ανοικτές δαπάνες είναι πράσινη, γιατί οποιαδήποτε τροποποίηση στην καρτέλα τροποποιεί τα στοιχεία της δαπάνης. Αν δεν υπάρχουν ανοικτές δαπάνες είναι κίτρινη γιατί οι τροποποιήσεις στην καρτέλα αφορούν τα στοιχεία του "main.ini", δηλαδή αυτά που δίνονται στις νέες δαπάνες.
* Ο κώδικας βελτιστοποιήθηκε σε πάρα πολλά σημεία.
* Ο Installer για Windows ρωτάει για να κάνει overwrite ή να σβύσει το παλιό "main.ini" προκειμένου να μην χάνονται τα δεδομένα των αμετάβλητων στοιχείων, του προσωπικού και των προμηθευτών.
% Διορθώθηκε ένα λάθος στα templates που έγινε λόγω λάθος κατανόησης του RTF Specification 1.6 και δεν όριζε σωστά τις landscape και portrait σελίδες.
% Διορθώθηκαν κάποια άσχετα "," που εμφανίζονταν στο αποδεικτικό ΦΕ για τον προμηθευτή.
% Αν το προσωπικό έχει διατεθεί από άλλη Μονάδα (αυτό φαίνεται άν έχει συμπληρωθεί το πεδίο "Μονάδα" στο tab "Προσωπικό Μονάδας") τότε αντί να λέει π.χ. "Υπλγο(ΜΧ)Γκέσο Παύλο" να λέει "Υπλγο(ΜΧ)Γκέσο Παύλο του 7ου ΛΜΧ".
% Στη Συγκρότηση Επιτροπών δεν φαίνονταν πουθενά το όνομα του Αξκου Έργου. Τώρα το όνομά του είναι αποδέκτης προς ενέργεια και οι "επιτροπές" είναι αποδέκτες προς πληροφορία.
% Το διαβιβαστικό δαπάνης έχει ως αποδέκτη προς ενέργεια, τον εκδότη της Δγης διάθεσης της πίστωσης. Παλιά είχε το "ΓραφείοΣχηματισμού".
% Διορθώθηκε ένα bug που εμφάνιζε στο διαβιβαστικό της έκθεσης απαιτούμενης δαπάνης σαν σχετικό την "ΔγηΔιάθεσης".
~ Διορθώθηκε ένα bug που δεν επέτρεπε την εξαγωγή σε RTF αν κάποια καταχώρηση περιείχε τους χαρακτήρες (") και (\).
~ Αν κάποια επιλογή menu δεν είχε εικόνα αριστερά της και οι άλλες είχαν, τότε αυτή στοιχίζονταν με την εικόνα των άλλων και όχι με το κείμενο των άλλων. Αυτό βέβαια, δεν το είχατε δεί γιατί μέχρι στιγμής στα menu είτε είχαν όλα τα στοιχεία εικόνες ή κανένα.
# Λόγω αλλαγής του κώδικα, όλες οι παλιές δαπάνες (1.0.0) δεν ανοίγουν με την νέα έκδοση, εκτός και αν αλλάξετε στην πρώτη σειρά τους (χειροκίνητα) το "common.HashString2Object" σε "cost.Cost".


Έκδοση 1.0.0 alpha
------------------
# Κατ' ουσίαν, είναι ένα εντελώς διαφορετικό πρόγραμμα με τις προηγούμενες εκδόσεις. Το μόνο που έμεινε (σχεδόν) ίδιο είναι το γραφικό περιβάλλον.
# ’λλαξε το format των αρχείων .cost που περιλαμβάνει στοιχεία για την εκάστοτε δαπάνη. Το νέο format δεν είναι ευάλωτο σε αλλαγές του κώδικα όπως το παλιό.
* Μπορείτε να δώσετε οτι θέλετε σαν ταυτότητα τιμολογίου και σαν ταυτότητα διαταγής. Θα σας εμφανιστεί το λάθος όταν θα τρέξετε τα templates.
% ’λλαξαν όλα τα templates και από html format τώρα έγιναν rtf. ’λλαξε επίσης και η scripting language των templates και τώρα είναι η php που είναι σαφώς ανώτερη και γρηγορότερη από τη δικιά μου.
+ Μπορείτε να έχετε ανοιχτές πολλές δαπάνες ταυτόχρονα με το ίδιο πρόγραμμα.
+ Το πρόγραμμα εγκαθίσταται από κανονικό installer για ευκολία. Αυτός δημιουργεί εικονίδιο στο start menu. Επιπλέον συνδέεται με τα αρχεία δαπανών (προέκταση .cost) ώστε με ένα απλό enter πάνω στο αρχείο δαπάνης να ανοίγει η δαπάνη.
~ Διορθώθηκαν ένα σωρό bugs (από που να αρχίσω και που να τελειώσω) αλλά φαντάζομαι θα εμφανίστηκαν άλλα τόσα ;-P


Έκδοση 0.3.1 (stable)
---------------------
* Μετά την αλλαγή του ΦΠΑ από το Κράτος, άλλαξα τις τιμές του ΦΠΑ στο πρόγραμμα από 18% σε 19% και από 8% σε 9%. Επιπλέον το ποσοστό του ΦΠΑ, πέρα από τα default (0, 9, 19) μπορεί να πάρει οποιοδήποτε νούμερο με το χέρι.
% Στο temlate αγοράς και διάθεσης, του Διοικητή εμφανίζονταν στην πρώτη σειρά ο βαθμός και στη δεύτερη το όνομα.
% Σε περίπτωση που δεν έχουν καταχωρηθεί τιμολόγια, η Δγη ανάθεσης δεν εμφανίζε καθόλου παράγραφο με τις κρατήσεις που προβλέπονται. Τώρα λέει "Η Δαπάνη υπόκειται στις προβλεπόμενες κρατήσεις".


Έκδοση 0.3.0 beta
-----------------
- Αφαιρέθηκαν όσα στοχεία υπήρχαν με την προυπόθεση κάποια στιγμή το πρόγραμμα να υποστηρίξει δαπάνες κατασκευής έργων. Αυτό θα γίνει στην έκδοση 1.0.0.
- Αφαίρεση του αυτόματου υπολογισμού χαρτόσημου και ΟΓΑ. Είχε δημιουργήσει πρόβλημα στις κρατήσεις 4% και 10%.
~ Διόρθωση bug που υπολόγιζε λάθος τις κρατήσεις.
* Διάφορες αμελητέες μικροαλλαγές.


Έκδοση 0.2.0 alpha (unstable - πολλά bugs)
------------------------------------------
~ Διόρθωση bug που εμφάνιζε λανθασμένα τα χρηματικά ποσά ολογράφως.
~ Διόρθωση bug που επεξεργάζονταν τους αριθμούς στο tag if των templates, πάντα σαν ακεραίους (Integers).
~ Διόρθωση bug που κολλούσε την εφαρμογή όταν προσθέταμε νέο είδος κράτησης στη λίστα κρατήσεων.
~ Διόρθωση του tab "Πληροφορίες" και τροποποίηση των πληροφοριών που περιλαμβάνει.
* Το κλειδί του tag enum σώζεται με τα αρχικά (σύντμηση) και όχι ολογράφως. Έτσι αποφεύγονται πολλές μετατροπές από την πλήρη μορφή στην σύντμηση και μειώνεται αισθητά η καθυστέρηση εξαγωγής της δαπάνης.
* Όταν κάποιο tag if είναι false, τότε τα nested σε αυτό if δεν κάνουν καθόλου τον υπολογισμό. Με την αλλαγή αυτή βελτιώνεται η ταχύτητα εξαγωγής της δαπάνης.
* Αντί στο template της απόδειξης παραλαβής χρημάτων να τοποθετείται το ποσό της δαπάνης, εμφανίζει παράθυρο request και ζητά εισαγωγή ποσού. Το default ποσό που εμφανίζεται αρχικά στο παράθυρο είναι το ποσό της δαπάνης.
* Επιτρέπεται tag του τύπου static_commander και δεν χρειάζεται να γίνει σύνθεση από τα επιμέρους static_commander_rank static_commander_name. Εκτός από το προσωπικό, το ίδιο ισχύει και στις διαταγές αλλά και σε άλλα πράγματα.
* Ανάμεσα από τον πίνακα τιμολογίων και των στοιχείων τους μπαίνει μια κινητή με το mouse γραμμή που τα χωρίζει σε 2 διαφορετικά panels.
* Αρκετές μικροαλλαγές και μικροβελτιώσεις στον κώδικα.
* Αρκετές αλλαγές στα menus.
% Προσθήκη template δικαιολογητικού ανεφοδιαστικού και επισκευαστικού οργάνου.
% Πολλές αλλαγές στα templates λόγω αλλαγής συμπεριφοράς των tag set και request.
# Υποστηρίζονται και Digit παράμετροι εκτός από Booleans. Διακόπτεται η συνέχεια με την παλαιότερη έκδοση του tag set. Τα templates που χρησιμοποιούν την παλιά μορφή του tag, πρέπει να ξαναγραφούν.
+ Ο χαρακτήρας "." επιτρέπεται στα tags των templates. Ως εκ τούτου οι αριθμοί στα tags μπορούν πλέον να έχουν δεκαδικά ψηφία.
+ Προστέθηκε το tag request, το οποίο σταματά το compile του template για την εισαγωγή στοιχείων σε παράθυρο. Τα στοιχεία τα αποθηκεύει σαν parameter. Αν το parameter είναι ήδη ορισμένο δεν το ζητά. υποστηρίζονται 2 ειδών εισαγωγές: Μιά του τύπου Ναι/Όχι και μία για εισαγωγή αριθμών.
+ Τα tags μπορούν στο τέλος τους να έχουν οτιδήποτε χαρακτήρες μέσα σε εισαγωγικά. Αυτό προκειμένου να αποθηκεύεται η ερώτηση που εμφανίζεται στο παράθυρο του tag request.
+ Προστέθηκαν τα tags genikh_, aitiatikh_ και klitikh_ τα οποία κλίνουν τις αρσενικές και θυλικές λέξεις. Έτσι ενώ με το tag cost_work_officer παίρνουμε "Ανθλγος(ΜΧ) Γκέσος Παύλος", με το tag genikh_cost_work_officer παίρνουμε "Ανθλγου(ΜΧ) Γκέσου Παύλου". Με βάση την προσθήκη αυτή τροποποιήθηκαν πολλά templates.
+ Τα tabs της εφαρμογής χρωματίστηκαν κατά group.
+ Η εφαρμογή μπορεί να εχει πολλά skins. Το όνομα του skin δίνεται ως πρώτη παράμετρος στο πρόγραμμα.
+ Η εφαρμογή μπορεί να φορτώσει αυτόματα αρχείο δαπάνης κατά την εκκίνησή της, αν βάλουμε το αρχείο δαπάνης ως πρώτη παράμετρο (ή δεύτερη αν η πρώτη είναι το skin).
+ Προστέθηκε το tab Εργασίες το οποίο δεν έχει καμμία αλληλεπίδραση με το υπόλοιπο πρόγραμμα. Σκοπός ήταν να ενσωματωθεί σε μια μελλοντική έκδοση.


Έκδοση 0.1.0 alpha (unstable)
-----------------------------
+ Πρώτη έκδοση του προγράμματος